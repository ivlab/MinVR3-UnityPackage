This folder is based off the [DocumentationSrc~ Folder in the IVLab's Template-UnityPackage](https://github.umn.edu/ivlab-cs/Template-UnityPackage/tree/main/DocumentationSrc%7E).
However, there are several key differences:

- in <docfx.json>:
    - `src` is changed to use the actual `*.csproj` files generated by Unity instead of the faked `api-documentation.csproj` file.
    - `xref`s for Unity are added so cross references to Unity types link to the correct Unity documentation.
    - `xrefService` added to perform cross reference lookup for C# builtin types.
- in <filterConfig.yml>
    - Only include namespaces that actually matter to this package. Exclude everything else.
- in <templates/statictoc-with-github-umn-edu/class.header.tmpl.partial>
    - Deleted the section on "Inherited methods"; this is distracting and takes up a huge amount of space.


### Key Files and Directories:

```
 Runtime/Scripts --> root for .cs files that are the source for the API
 Documentation~ --> DocFx destination dir; holds the complete built website.
 DocumentationSrc~ --> DocFx and Markdown source for building the website.
   index.md --> Markdown content for the landing page (you edit)
   manual/ --> Markdown content for the manual section (you add/edit)
   resources/ --> Images / other content (you add/edit)
   apidocs-overrides/ --> Content contributed with the "Improve this Doc" link
   api/index.md --> API landing page (you edit)
   api/* --> Everything other than index.md is generated by DocFx
   projectMetadata.json --> project-specific settings (you edit)
   filterConfig.json --> docfx config (you might need to edit)
   build-docs --> this script (you should not need to edit)
   docfx.json --> docfx config (you should not need to edit)
   templates/ --> docfx templates with support for github.umn.edu (no edit)
   toc.yml --> Defines the structure of the navbar for documentation website
```


### STEP 1: Prerequsities

1. Download DocFX from the [lastest GitHub release](https://github.com/dotnet/docfx/releases)
    - Sometimes the latest has issues - ok to go back a version or two
2. make sure DocFX is on your PATH
    - On Windows, you can edit the environment variables (start menu > environment variables)
    - On git bash and other OS, you can do `PATH=$PATH:/c/Users/herma582/Downloads/docfx`, for example.


### STEP 2: Build the docs

From the DocumentationSrc~ folder, run: (in git bash or bash equivalent)

```
./build-docs
```


NOTE: Building docs in this manner seems to only work in Unity >= 2020. If you are running Unity 2019 or older, cross reference won't work.

NOTE: if you run into issues (especially with cross references), try removing the *.sln and *.csproj files from your Unity project root.

NOTE: it is recommended to do ./build-docs --clean before each docs build.


(Old news, but keeping here in case anyone else runs into this issue) NOTE: Until DocFX is updated, it may not work with new-style .csproj files generated by the [Visual Studio Editor](https://docs.unity3d.com/Packages/com.unity.ide.visualstudio@2.0/manual/index.html) Unity package (version >= 2.0.20). Instead, use the legacy [Visual Studio Code Editor](https://docs.unity3d.com/Packages/com.unity.ide.vscode@1.2/manual/index.html) package (version <= 1.2.5).
